TARGET = build_in.o
#COMOBJS = ../common/proto.o   #公共模块
CC = gcc
LD = ld
CCFLAGS += -c 

SRCS = $(wildcard *.c)
OBJS = $(patsubst %.c,%.o,$(SRCS))  #子目录obj

$(TARGET) : $(OBJS) $(COMOBJS)
	$(LD) -r $^ -o $@ $(LIBS) $(LDFLAGS) 
%.o : %.c
	$(CC) $< -o $@ $(CCFLAGS) $(INCLUDES)
%.o : %.cpp
	$(CC) $< -o $@ $(CCFLAGS) $(INCLUDES)
.PHONY:clean
clean:
	rm -rf *.o
	rm -rf $(TARGET) 

